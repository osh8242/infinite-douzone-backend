<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.douzone.rest.sallowpay.dao.SaLowPayMapper">

    <select id="getSalLowPayList" parameterType="SaLowPay" resultType="SaLowPay">
        /* 사원별 급여항목 리스트 */
        SELECT
            CD_ALLOW
            , ALLOW_PAY
            , CD_EMP
            , ALLOW_MONTH
            , ALLOW_YEAR
            , PAYMENT_DATE
        FROM SAALLOWPAY
        WHERE CD_EMP = #{cdEmp}
            AND ALLOW_MONTH = #{allow_month}
            AND ALLOW_YEAR = #{allow_year}
        <if test="cdAllow                    != null">, CD_ALLOW = #{cdAllow}</if>
    </select>

    <update id="updateSalowPay" parameterType="SaLowPay">
        /* 급여항목 수정 */
        update SAALLOWPAY
            set ALLOW_PAY = #{allowPay}
        where CD_EMP = #{cdEmp}
            AND ALLOW_MONTH = #{allow_month}
            AND ALLOW_YEAR = #{allow_year}
    </update>


</mapper>